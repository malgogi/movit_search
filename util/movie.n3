@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix list: <http://www.w3.org/2000/10/swap/list#>.
@prefix : <http://www.agfa.com/w3c/euler/moives#>.

#data
[ :name "Mississippi_Grind" ; :genre ( "drama" "action" ) ; :date 2015 ].
[ :name "a" ; :genre ( "drama" "action" "fiction" ); :date 2015 ].
[ :name "b" ; :genre ( "drama" "action" "fiction" ); :date 2013 ].
[ :name "c" ; :genre ( "drama" "action" "fiction" ); :date 2012 ].
[ :name "d" ; :genre ( "drama" "action" "fiction" ); :date 2011 ].


#rule
{ ?A :date ?B; :name ?E. ?C :date ?D; :name ?F. ?A :name ?E. ?C :name ?E. } => { ?A owl:sameAs ?C }.

#list rule
#{ ?A :genre ?L;. } => { ?L a rdf:List }.
#{ ?L a rdf:List. ?L list:first ?I } => { ?I a rdf:List }.

:my_genre :my_list ( "drama" "action" "fiction" ).
{ ?A :my_list ?L. } => { ?L a rdf:List }.
{ ?L a rdf:List. ?L list:rest ?I. } => { ?I a rdf:List }.

{ ?L a rdf:List. ?L list:first ?I } => { ?I list:in ?L }.
{ ?L a rdf:List. ?L list:rest ?I } => { ?I list:in ?L }.
{ ?L rdf:first ?I; a rdf:List} => {?I list:in ?L}.
{ ?L rdf:rest ?R; a rdf:List. ?I list:in ?R} => {?I list:in ?L}.



{ ?A :date ?B; :name ?E; :genre ?G. ?C :date ?D; :name ?F; :genre ?H. ( ?B ?D ) math:difference 0. ?A owl:sameAs ?C. ( "fiction" ) list:in ?G  } => { ?E :equals ?F. }.
